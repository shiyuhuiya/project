import{o as a,c as t,w as e,a as l,b as s,t as i,r,i as u,d as o,e as c,f as n,g as d,h as f,F as p,j as m,S as _,k as v,n as g,l as y,m as b}from"./index-CTVgZndQ.js";import{_ as h}from"./nav-bar.6mzcIEtU.js";import{_ as k,o as w,a as j,b as x,c as C,r as P}from"./uni-app.es.CwYrt2Mn.js";import{_ as F}from"./uni-icons.B3m6PdPA.js";import{_ as L}from"./uni-dateformat.B8mjq7pw.js";import{g as $,a as z,b as I,c as S,_ as D}from"./home.C5Ep1QEB.js";import{u as E}from"./picList.DDpk1LV3.js";import"./index.BT6q2I3C.js";const M=k({__name:"common-title",props:{title:String},setup:c=>(n,d)=>{const f=u,p=o;return a(),t(p,{class:"container"},{default:e((()=>[l(p,{class:"left"},{default:e((()=>[l(f,null,{default:e((()=>[s(i(c.title),1)])),_:1})])),_:1}),l(p,{class:"right"},{default:e((()=>[r(n.$slots,"default",{},void 0,!0)])),_:3})])),_:3})}},[["__scopeId","data-v-050cb1e6"]]),U=k({__name:"home",setup(r){const k=E(),U=c([]),q=c([]),A=c([]);async function B(){const{data:a}=await $();U.value=a.data}async function G(){const{data:a}=await z({});q.value=a.data}async function H(){const{data:a}=await I();A.value=a.data,A.value.forEach((a=>{a.bigPic=a.smallPicurl.replace(/_small.webp/,".jpg")})),k.set(a.data)}B(),G(),H();const J=c([]);async function K(){const a=await S();J.value=a.data.data}return K(),w((()=>{k.set(A.value)})),j((()=>{B(),G(),H(),K()})),x((()=>({title:"波奇酱~",path:"/pages/home/home",imageUrl:"/static"}))),C((()=>({title:"波奇酱~壁纸"}))),(r,c)=>{const k=P(n("nav-bar"),h),w=y,j=m,x=b,C=_,$=o,z=P(n("uni-icons"),F),I=u,S=P(n("uni-dateformat"),L),E=P(n("common-title"),M),B=v,G=P(n("theme-item"),D);return a(),t($,{class:"container bk"},{default:e((()=>[l(k,{title:"首页"}),l($,{class:"swiper"},{default:e((()=>[l(C,{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,circular:"","indicator-active-color":"#fff"},{default:e((()=>[(a(!0),d(p,null,f(U.value,(s=>(a(),t(x,{key:s._id},{default:e((()=>["self"==s.target?(a(),t(j,{key:0,url:"/pages/sub/categoryList/categoryList?"+s.url,target:"self"},{default:e((()=>[l(w,{src:s.picurl,mode:"widthFix"},null,8,["src"])])),_:2},1032,["url"])):(a(),t(j,{key:1,"app-id":s.appid,target:"miniProgram",url:s.url},{default:e((()=>[l(w,{src:s.picurl,mode:"widthFix",onClick:a=>console.log(s.appid)},null,8,["src","onClick"])])),_:2},1032,["app-id","url"]))])),_:2},1024)))),128))])),_:1})])),_:1}),l($,{class:"notice"},{default:e((()=>[l($,{class:"left"},{default:e((()=>[l(z,{type:"sound",size:"48rpx"}),l(I,null,{default:e((()=>[s("公告")])),_:1})])),_:1}),l($,{class:"middle"},{default:e((()=>[l(C,{autoplay:!0,interval:3e3,duration:1e3,vertical:"true",circular:"true"},{default:e((()=>[(a(!0),d(p,null,f(J.value,(l=>(a(),t(x,{key:l._id,onClick:a=>{return t=l._id,void g({url:`/pages/sub/notice/notice?id=${t}`});var t}},{default:e((()=>[s(i(l.title),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),l($,{class:"right"},{default:e((()=>[l(z,{type:"right"})])),_:1})])),_:1}),l($,{class:"preview"},{default:e((()=>[l(E,{title:"每日推荐"},{default:e((()=>[l(z,{type:"calendar",size:"48rpx"}),l(S,{date:Date.now(),format:"dd日"},null,8,["date"])])),_:1}),l(B,{"scroll-x":"true"},{default:e((()=>[(a(!0),d(p,null,f(A.value,((e,l)=>(a(),t(w,{src:e.smallPicurl,key:e._id,onClick:a=>function(a){g({url:`/pages/sub/preview/preview?index=${a}`})}(l)},null,8,["src","onClick"])))),128))])),_:1})])),_:1}),l($,{class:"theme"},{default:e((()=>[l(E,{title:"专题精选"},{default:e((()=>[l(j,{url:""},{default:e((()=>[s("More+")])),_:1})])),_:1}),l($,{class:"content"},{default:e((()=>[(a(!0),d(p,null,f(q.value,(e=>(a(),t(G,{key:e._id,item:e},null,8,["item"])))),128)),l(G)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b4695e1b"]]);export{U as default};
