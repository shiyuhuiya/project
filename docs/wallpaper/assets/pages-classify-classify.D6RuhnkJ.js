import{_ as a}from"./nav-bar.6mzcIEtU.js";import{e,f as s,g as t,a as u,w as l,c as o,p as n,F as i,d as m,o as r,h as p}from"./index-CTVgZndQ.js";import{_ as v,d as c,a as d,r as f}from"./uni-app.es.CwYrt2Mn.js";import{a as _,_ as g}from"./home.C5Ep1QEB.js";import{_ as j}from"./uni-load-more.DtMAAWGf.js";import"./uni-icons.B3m6PdPA.js";import"./uni-dateformat.B8mjq7pw.js";import"./index.BT6q2I3C.js";const y=v({__name:"classify",setup(v){const y=e({pageNum:1,pageSize:13}),b=e([]);async function h(){const{data:{data:a,total:e}}=await _(y.value);k.value=e,b.value=[...b.value,...a]}h();let N=null;const k=e(0),x=e(!1);return c((()=>{y.value.pageNum*y.value.pageSize>=k.value?x.value=!0:(N&&clearTimeout(N),N=setTimeout((()=>{y.value.pageNum+=1,h(y.value)}),500))})),d((()=>{b.value=[],y.value.pageNum=1,h()})),(e,v)=>{const c=f(s("nav-bar"),a),d=f(s("theme-item"),g),_=m,y=f(s("uni-load-more"),j);return r(),t(i,null,[u(_,{class:"container bk"},{default:l((()=>[u(c,{title:"分类"}),u(_,{class:"classify"},{default:l((()=>[(r(!0),t(i,null,p(b.value,((a,e)=>(r(),o(d,{key:e,item:a},null,8,["item"])))),128))])),_:1})])),_:1}),0!=b.value.length?(r(),o(y,{key:0,status:x.value?"noMore":"more"},null,8,["status"])):n("",!0)],64)}}},[["__scopeId","data-v-dd699820"]]);export{y as default};
