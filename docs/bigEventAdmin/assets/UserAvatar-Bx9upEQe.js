import{_ as b}from"./pageContainer-DsdfqMgt.js";import{a as y,r as d,o as r,v as i,e as a,d as e,c as E,j as c,f,bQ as h,E as w,i as x,aU as m,bR as B,p as I,k as S,b as A}from"./index-k3YW5qJL.js";import{_ as C,E as N}from"./_plugin-vue_export-helper-DWe8d4KH.js";import{E as R}from"./el-progress-DFc0mkbl.js";import"./_baseClone-Bj1oCUNN.js";import"./isEqual-Duxnd_rP.js";const V=s=>(I("data-v-3b78067f"),s=s(),S(),s),z=["src"],F=V(()=>A("br",null,null,-1)),$={__name:"UserAvatar",setup(s){const n=y(),u=d(),o=d(n.user.user_pic),v=_=>{const t=new FileReader;t.readAsDataURL(_.raw),t.onload=()=>{o.value=t.result}},k=async()=>{await h(o.value),n.getUser(),w.success("修改头像成功")};return(_,t)=>{const l=x,g=R,p=N,U=b;return r(),i(U,{title:"更换头像"},{default:a(()=>[e(g,{ref_key:"upload",ref:u,class:"upload-demo",limit:1,"auto-upload":!1,"on-change":v},{default:a(()=>[o.value?(r(),E("img",{key:0,src:o.value,class:"avatar"},null,8,z)):(r(),i(l,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[e(c(m))]),_:1}))]),_:1},512),F,e(p,{type:"primary",size:"large",onClick:t[0]||(t[0]=j=>u.value.$el.querySelector("input").click())},{default:a(()=>[e(l,null,{default:a(()=>[e(c(m))]),_:1}),f(" 选择图片 ")]),_:1}),e(p,{type:"success",size:"large",onClick:k},{default:a(()=>[e(l,null,{default:a(()=>[e(c(B))]),_:1}),f("上传图片 ")]),_:1})]),_:1})}}},T=C($,[["__scopeId","data-v-3b78067f"]]);export{T as default};
