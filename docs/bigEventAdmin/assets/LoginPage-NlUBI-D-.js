import{u as L,r as f,w as z,a as N,o as v,c as g,b as r,d as e,e as a,f as m,g as T,E as b,h as F,i as M,j as u,p as P,k as R,l as E,m as w,n as $,q as j}from"./index-k3YW5qJL.js";import{_ as A,E as D}from"./_plugin-vue_export-helper-DWe8d4KH.js";import{E as G}from"./el-checkbox-DJsPBYH-.js";import{E as H,a as J}from"./el-form-item-BFKEt8dq.js";import{E as K}from"./el-input-CYp91zm4.js";import"./isEqual-Duxnd_rP.js";import"./_baseClone-Bj1oCUNN.js";const i=p=>(P("data-v-62b353da"),p=p(),R(),p),O={class:"container"},Q=i(()=>r("div",{class:"bk"},null,-1)),W={class:"form"},X={key:0,class:"login"},Y=i(()=>r("h1",null,"登录",-1)),Z={class:"rp"},ee=i(()=>r("a",{href:"#"},"忘记密码?",-1)),oe=i(()=>r("div",{class:"inform"}," 仅用于IT培训教学使用，为保障您的个人信息安全，请勿向平台录入任何个人敏感信息（如手机号、身份证号等）！ ",-1)),se={key:1,class:"enroll"},ae=i(()=>r("h1",null,"注册",-1)),le={__name:"LoginPage",setup(p){const y=L(),n=f(!0),I=()=>{n.value=!n.value},S=()=>{n.value=!n.value},c=f(),o=f({});z(n,()=>{o.value={}});const h={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是5-10位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15的非空字符",trigger:"blur"},{validator:(_,s,t)=>{s!==o.value.password?t(new Error("两次输入密码不一致!")):t()},trigger:"blur"}]},U=async()=>{await c.value.validate(),await T(o.value),b.success("注册成功"),n.value=!0},C=N(),q=async()=>{await c.value.validate();const _=await F(o.value);C.setToken(_.data.token),b.success("登录成功"),y.push("/")};return(_,s)=>{const t=K,d=J,k=H,B=G,x=D,V=M;return v(),g("div",O,[Q,r("div",W,[n.value?(v(),g("div",X,[Y,e(k,{ref_key:"form",ref:c,model:o.value,rules:h},{default:a(()=>[e(d,{prop:"username"},{default:a(()=>[e(t,{modelValue:o.value.username,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value.username=l),placeholder:"请输入用户名","prefix-icon":u(E)},null,8,["modelValue","prefix-icon"])]),_:1}),e(d,{prop:"password"},{default:a(()=>[e(t,{modelValue:o.value.password,"onUpdate:modelValue":s[1]||(s[1]=l=>o.value.password=l),placeholder:"请输入密码","show-password":"","prefix-icon":u(w)},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1},8,["model"]),r("div",Z,[e(B,{label:"记住我",size:"large"}),ee]),e(x,{type:"primary",size:"large",onClick:q},{default:a(()=>[m("登录")]),_:1}),r("div",{class:"toEnroll",onClick:I},[m(" 注册"),e(V,null,{default:a(()=>[e(u($))]),_:1})]),oe])):(v(),g("div",se,[ae,e(k,{ref_key:"form",ref:c,model:o.value,rules:h},{default:a(()=>[e(d,{prop:"username"},{default:a(()=>[e(t,{modelValue:o.value.username,"onUpdate:modelValue":s[2]||(s[2]=l=>o.value.username=l),placeholder:"请输入用户名","prefix-icon":u(E)},null,8,["modelValue","prefix-icon"])]),_:1}),e(d,{prop:"password"},{default:a(()=>[e(t,{modelValue:o.value.password,"onUpdate:modelValue":s[3]||(s[3]=l=>o.value.password=l),placeholder:"请输入密码","show-password":"","prefix-icon":u(w)},null,8,["modelValue","prefix-icon"])]),_:1}),e(d,{prop:"repassword"},{default:a(()=>[e(t,{modelValue:o.value.repassword,"onUpdate:modelValue":s[4]||(s[4]=l=>o.value.repassword=l),placeholder:"请再次输入密码","show-password":"","prefix-icon":u(w)},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1},8,["model"]),e(x,{type:"primary",size:"large",onClick:U},{default:a(()=>[m("注册")]),_:1}),r("div",{class:"back",onClick:S},[e(V,null,{default:a(()=>[e(u(j))]),_:1}),m("返回 ")])]))])])}}},ce=A(le,[["__scopeId","data-v-62b353da"]]);export{ce as default};
